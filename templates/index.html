<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask Login and Registration</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index_site.css') }}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">Flask Auth</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('login') }}">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('register') }}">Register</a>
                    </li>
                    <!-- Checking if a user is logged in by verifying the presence of the 'username' key in the session. -->
                    {% if 'username' in session %}
                    <li class="nav-item">
                        <a class="nav-link text-primary" href="{{ url_for('data') }}">Go to Data Page</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-danger" href="{{ url_for('logout') }}">Logout</a>
                    </li>                    
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <section class="hero-section text-center">
        <div class="container">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert {% if 'error' in message.lower() %}alert-danger{% else %}alert-success{% endif %}">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <h1 class="display-4">Welcome to Flask Login and Registration</h1>
            <p class="lead">Secure and simple authentication with Flask</p>
            <p><a class="btn btn-primary" href="{{ url_for('login') }}">Login</a> <a class="btn btn-success" href="{{ url_for('register') }}">Register</a></p>
        </div>
    </section>    

    <section class="about-section">
        <div class="container">
            <h2 class="text-center">About This Project</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod nulla auctor neque imperdiet, sit amet fermentum urna sodales. Duis euismod, mi vitae aliquam tincidunt, dui augue pellentesque quam, et dapibus metus felis non libero.</p>
        </div>
    </section>

    <footer class="footer-section text-center">
        <div class="container">
            <p>&copy; <span id="currentYear"></span> Flask Auth. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>
